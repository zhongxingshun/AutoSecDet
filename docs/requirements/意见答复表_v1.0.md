# 需求评审意见答复表

## 基本信息

- **需求文档版本**: SRS v1.0 → v1.1
- **答复日期**: 2026-01-28
- **答复人**: 产品经理

---

## 意见答复

### Q-001: 脚本执行超时机制未明确定义

- **评审意见**: 脚本执行超时机制未明确定义
- **建议修改**: 需明确单个脚本的最大执行时间限制（建议 5 分钟）
- **答复**: ✅ 接受
- **答复理由**: 超时机制是保证系统稳定性的关键，防止单个脚本阻塞整个检测任务。5 分钟的超时时间对于大多数安全检测脚本是合理的。
- **修改内容**: 
  - 修改前：未定义超时机制
  - 修改后：在 F-003 任务执行控制中增加业务规则"单个脚本执行超时时间为 5 分钟，超时后自动标记为 Error 并继续执行下一个用例"
- **对应章节**: SRS v1.1 第 3.2 节 F-003

---

### Q-002: 检测任务中断后的数据保存策略未定义

- **评审意见**: 检测任务中断后的数据保存策略未定义
- **建议修改**: 需明确中断时已完成结果如何保存和展示
- **答复**: ✅ 接受
- **答复理由**: 用户主动中断或异常中断时，已执行完成的用例结果应当保留，这是合理的用户期望。
- **修改内容**: 
  - 修改前：AC3 仅说明"已完成的结果保留"，未详细说明
  - 修改后：在 F-003 中明确"任务中断后，已完成用例的结果自动保存，可在结果页面查看；当前正在执行的用例标记为 Error（中断）"
- **对应章节**: SRS v1.1 第 3.2 节 F-003

---

### Q-003: 报告导出格式仅支持 PDF/HTML，是否需要支持 Word/Excel

- **评审意见**: 报告导出格式仅支持 PDF/HTML，是否需要支持 Word/Excel
- **建议修改**: 建议增加 Word 格式支持，便于编辑
- **答复**: ⏳ 延后
- **答复理由**: 
  1. PDF 格式已满足存档和分享的核心需求
  2. HTML 格式可在浏览器中编辑或复制内容
  3. Word 格式增加开发成本，且 v1.0 核心目标是实现自动化检测流程
  4. 该功能有价值，计划在 v1.1 或 v2.0 版本实现
- **跟踪**: 已记录到产品 Backlog，ID: FEAT-EXPORT-WORD

---

### Q-004: 用例执行顺序是否可配置

- **评审意见**: 用例执行顺序是否可配置（按分类、按优先级、自定义）
- **建议修改**: 建议支持按分类顺序执行
- **答复**: ✅ 接受
- **答复理由**: 按分类顺序执行可以使检测结果更有组织性，便于用户理解和排查问题，实现成本较低。
- **修改内容**: 
  - 修改前：未定义执行顺序
  - 修改后：在 F-003 中增加业务规则"用例按分类顺序执行，同一分类内按用例 ID 顺序执行"
- **对应章节**: SRS v1.1 第 3.2 节 F-003

---

### Q-005: 历史检测记录是否需要保存和查询

- **评审意见**: 历史检测记录是否需要保存和查询
- **建议修改**: 建议增加历史记录功能
- **答复**: ✅ 接受
- **答复理由**: 历史记录对于追溯设备安全状态变化、对比多次检测结果具有重要价值，是合理的业务需求。
- **修改内容**: 
  - 修改前：无历史记录功能
  - 修改后：新增 F-011 历史记录查询功能，支持查看历史检测任务列表、按时间/IP 筛选、查看历史任务详情
- **对应章节**: SRS v1.1 第 3.2 节 F-011（新增）

---

### Q-006: 脚本执行日志是否需要保存供排查问题

- **评审意见**: 脚本执行日志是否需要保存供排查问题
- **建议修改**: 建议保存执行日志
- **答复**: ✅ 接受
- **答复理由**: 执行日志对于排查脚本执行失败原因至关重要，是运维和问题定位的必要功能。
- **修改内容**: 
  - 修改前：未定义日志保存
  - 修改后：在 F-007 检测结果展示中增加"可查看用例执行的详细日志（stdout/stderr）"；日志保留 30 天
- **对应章节**: SRS v1.1 第 3.2 节 F-007

---

### Q-007: 是否支持检测结果的对比功能

- **评审意见**: 是否支持检测结果的对比功能（多次检测对比）
- **建议修改**: 可作为 v2.0 功能
- **答复**: ⏳ 延后
- **答复理由**: 
  1. 对比功能是增值功能，不影响 v1.0 核心检测流程
  2. 需要先完成历史记录功能（Q-005 已接受）作为基础
  3. 计划在 v2.0 版本实现
- **跟踪**: 已记录到产品 Backlog，ID: FEAT-RESULT-COMPARE

---

### Q-008: 是否支持批量 IP 地址输入

- **评审意见**: 是否支持批量 IP 地址输入
- **建议修改**: 原始需求明确仅支持单 IP，可延后
- **答复**: ❌ 拒绝
- **答复理由**: 
  1. 原始需求明确定义"仅支持单个 IPv4 地址"，已列入 Out of Scope
  2. 批量扫描涉及并发控制、任务队列、资源调度等复杂问题
  3. 当前业务场景以单设备检测为主，批量需求优先级较低
  4. 如后续有明确业务需求，可在 v2.0 重新评估
- **备注**: 维持原始需求定义，不做修改

---

### Q-009: 是否需要邮件/消息通知功能

- **评审意见**: 是否需要邮件/消息通知功能（检测完成通知）
- **建议修改**: 可作为 v2.0 功能
- **答复**: ⏳ 延后
- **答复理由**: 
  1. 当前检测任务执行时间较短（通常 10-30 分钟），用户可在页面等待
  2. 通知功能需要额外的邮件服务器或消息推送基础设施
  3. 该功能有价值，计划在 v2.0 版本实现
- **跟踪**: 已记录到产品 Backlog，ID: FEAT-NOTIFICATION

---

### Q-010: UI 设计是否需要支持暗色主题

- **评审意见**: UI 设计是否需要支持暗色主题
- **建议修改**: 可作为优化项
- **答复**: ⏳ 延后
- **答复理由**: 
  1. 暗色主题是 UI 优化项，不影响核心功能
  2. v1.0 优先保证功能完整性和界面美观
  3. 可在后续版本作为 UI 增强功能实现
- **跟踪**: 已记录到产品 Backlog，ID: FEAT-DARK-THEME

---

## 答复统计

| 答复类型 | 数量 | 占比 |
|---------|------|------|
| ✅ 接受 | 5 | 50% |
| ❌ 拒绝 | 1 | 10% |
| 💬 讨论 | 0 | 0% |
| ⏳ 延后 | 4 | 40% |

---

## 修改对照表

| 章节 | 修改前 | 修改后 | 对应问题 |
|------|-------|-------|---------|
| 3.2 F-003 业务规则 | 无超时定义 | 增加"单个脚本执行超时时间为 5 分钟，超时后自动标记为 Error 并继续执行下一个用例" | Q-001 |
| 3.2 F-003 业务规则 | AC3 简单描述 | 明确"任务中断后，已完成用例的结果自动保存；当前正在执行的用例标记为 Error（中断）" | Q-002 |
| 3.2 F-003 业务规则 | 无执行顺序定义 | 增加"用例按分类顺序执行，同一分类内按用例 ID 顺序执行" | Q-004 |
| 3.2 新增 F-011 | 无 | 新增历史记录查询功能 | Q-005 |
| 3.2 F-007 | 无日志查看 | 增加"可查看用例执行的详细日志（stdout/stderr）；日志保留 30 天" | Q-006 |

---

## 延后功能 Backlog

| Backlog ID | 功能描述 | 计划版本 | 对应问题 |
|------------|---------|---------|---------|
| FEAT-EXPORT-WORD | 报告导出支持 Word 格式 | v1.1/v2.0 | Q-003 |
| FEAT-RESULT-COMPARE | 检测结果对比功能 | v2.0 | Q-007 |
| FEAT-NOTIFICATION | 检测完成邮件/消息通知 | v2.0 | Q-009 |
| FEAT-DARK-THEME | UI 暗色主题支持 | v2.0 | Q-010 |

---

## 下一步

1. 根据接受的意见修改 SRS 文档，生成 SRS v1.1
2. 提交意见答复表和 SRS v1.1 进行二次评审
3. 二次评审通过后，冻结需求基线，进入技术设计阶段
